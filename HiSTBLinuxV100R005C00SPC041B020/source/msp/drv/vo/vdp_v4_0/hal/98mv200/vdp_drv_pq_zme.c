#include "hi_type.h"
#include "vdp_hal_vid.h"
#include "vdp_fpga_define.h"

#include "vdp_drv_comm.h"

#include "vdp_drv_pq_zme.h"
#include "vdp_func_pq_csc.h"


    /***************************VID ZOOM START********************************************/
    /*VOU_ZOOM_TAP_4CH, VOU_ZOOM_TAP_4CV ,ratio=1*/
    const HI_S16 coefficient4_cubic[18][4] = {{0, 511,0,0}, {-19, 511,  21,	-1}, {-37, 509,  42,  -2}, {-51, 504,  64,-5},
        {-64, 499,  86,  -9}, {-74, 492, 108, -14}, {-82, 484, 129, -19}, {-89, 474, 152,-25}, {-94, 463,174, -31},
        {-97, 451, 196, -38}, {-98, 438, 217, -45}, {-98, 424, 238, -52}, {-98, 409, 260,-59}, {-95, 392,280, -65},
        {-92, 376, 300, -72}, {-88, 358, 320, -78}, {-83, 339, 339, -83},{0,0,0,0}};//normalized ok

    HI_S16 coefficient4_1M[18][4] = {{151, 150, 151,  60}, {149, 149, 150,  64}, {147, 148, 150,  67},
        {145, 147, 149,  71}, {143, 146, 148,  75}, {141, 145, 148,  78}, {139, 144, 147,82}, {137, 144, 146,85},
        {134, 143, 146,  89}, {132, 143, 145,  92}, {130, 143, 145,  94}, {127, 143, 144,98}, {125, 142, 144,101},
        {122, 142, 143, 105}, {119, 142, 143, 108}, {117, 142, 143, 110}, {114, 142, 142,114}, { 0,0,0,0}};

    HI_S16 coefficient4_2M[18][4] = {{148, 171, 148, 45}, {145, 170, 149, 48}, {142, 170, 149, 51},
        {139, 168, 150, 55}, {136, 167, 151, 58}, {133, 167, 151, 61}, {130, 165, 152, 65}, {127,164,153,68},
        {124, 164, 153, 71}, {121, 163, 154, 74}, {118, 162, 154, 78}, {115, 161, 155, 81}, {111,161,155,85},
        {108, 160, 156, 88}, {105, 159, 156, 92}, {102, 158, 157, 95}, { 98, 158, 158, 98}, {  0,0,0,0}};

    HI_S16 coefficient4_3M[18][4] = {{141, 211, 141, 19}, {137, 210, 145, 20}, {132, 208, 148, 24},
        {127, 207, 151, 27}, {123, 206, 154, 29}, {118, 205, 157, 32}, {114, 203, 160, 35}, {109,202,163,38},
        {105, 200, 165, 42}, {100, 199, 168, 45}, { 96, 197, 171, 48}, { 92, 195, 173, 52}, { 87,193,176,56},
        { 83, 191, 178, 60}, { 79, 190, 180, 63}, { 75, 187, 183, 67}, { 71, 185, 185, 71}, {  0,0,0,0}};

    HI_S16 coefficient4_4M[18][4] = {{128, 272, 128, -16}, {121, 271, 135, -15}, {114, 269, 142, -13},
        {107, 268, 148, -11}, {100, 267, 155, -10}, { 93, 264, 162,  -7}, {87, 262, 168, -5}, {80,260,175,-3},
        { 74, 257, 181,	0}, { 68, 254, 187, 3}, { 62, 251, 193,	6}, {56, 247, 199, 10}, {50,244,205,13},{45,240,210,17},
        { 40, 235, 216,  21}, { 35, 231, 221,  25}, { 30, 226, 226,  30}, { 0,   0,0,0}};

    HI_S16 coefficient4_5M[18][4] = {{106, 350, 106, -50}, { 96, 351, 117, -52}, { 85, 350, 128, -51},
        { 76, 349, 139, -52}, { 66, 348, 150, -52}, { 57, 345, 162, -52}, { 48, 342, 173,-51}, {39, 339, 184,-50},
        { 30, 335, 196, -49}, { 22, 330, 207, -47}, { 15, 324, 218, -45}, {  7, 318, 229,-42}, { 1, 311, 239,-39},
        { -6, 304, 250, -36}, {-12, 296, 260, -32}, {-18, 288, 270, -28}, {-23, 279, 279,-23}, { 0,0,0,0}};

    HI_S16 coefficient4_5_3M[18][4] = {{ 97, 376,	97, -58}, { 86, 377, 109, -60}, { 75, 377, 121, -61},
        { 64, 376, 134, -62}, { 54, 374, 147, -63}, { 43, 372, 160, -63}, { 33, 369, 173,-63}, { 24, 365,186, -63},
        { 15, 360, 199, -62}, {  7, 355, 212, -62}, { -1, 348, 225, -60}, { -9, 342, 237,-58}, {-16, 333,250, -55},
        {-23, 325, 262, -52}, {-29, 316, 274, -49}, {-35, 306, 285, -44}, {-40, 296, 296,-40}, {0,0, 0,0}};

    const HI_S16 coefficient2_cubic[18][4] = {{0, 511,0, 0}, {0, 511, 1, 0}, {0, 506,6, 0}, {0, 499,13, 0}, {0, 490,22,0},
        {0, 478,  34, 0}, {0, 465,  47, 0}, {0, 449,  63, 0}, {0, 432,  80, 0}, {0, 413,  99,0}, {0, 393,119,0}, {0, 372, 140, 0},
        {0, 350, 162, 0}, {0, 328, 184, 0}, {0, 304, 208, 0}, {0, 280, 232, 0}, {0, 256, 256,0},{0,0,0,0}};//normalized ok

    HI_S16 coefficient2_5M[18][4] = {{0, 386, 126, 0}, {0, 378, 134, 0}, {0, 370, 142, 0}, {0, 362, 150, 0}, {0, 355, 157, 0},
        {0, 347, 165, 0}, {0, 338, 174, 0}, {0, 330, 182, 0}, {0, 322, 190, 0}, {0, 314, 198,0}, {0, 306, 206,0}, {0, 298,214, 0},
        {0, 289, 223, 0}, {0, 281, 231, 0}, {0, 273, 239, 0}, {0, 264, 248, 0}, {0, 256, 256,0}, {0,0,0,0}};

    HI_S16 coefficient2_4M[18][4] = {{0, 371, 141, 0}, {0, 363, 149, 0}, {0, 356, 156, 0}, {0, 348, 164, 0}, {0, 341, 171, 0},
        {0, 334, 178, 0}, {0, 327, 185, 0}, {0, 319, 193, 0}, {0, 312, 200, 0}, {0, 305, 207,0}, {0, 298, 214,0}, {0, 291,221, 0},
        {0, 284, 228, 0}, {0, 277, 235, 0}, {0, 270, 242, 0}, {0, 263, 249, 0}, {0, 256, 256,0}, {0,   0,   0,0}};

    HI_S16 coefficient2_3M[18][4] = {{0, 359, 153, 0}, {0, 351, 161, 0}, {0, 344, 168, 0}, {0, 337, 175, 0}, {0, 331, 181, 0},
        {0, 324, 188, 0}, {0, 317, 195, 0}, {0, 311, 201, 0}, {0, 304, 208, 0}, {0, 298, 214,0}, {0, 292, 220,0}, {0, 286,226, 0},
        {0, 280, 232, 0},{0, 274, 238, 0}, {0, 268, 244, 0}, {0, 262, 250, 0}, {0, 256, 256, 0}, {0,0, 0, 0}};

    HI_S16 coefficient2_2M[18][4] = {{0, 350, 162, 0}, {0, 343, 169, 0}, {0, 336, 176, 0}, {0, 330, 182, 0}, {0, 323, 189, 0},
        {0, 317, 195, 0}, {0, 311, 201, 0}, {0, 305, 207, 0}, {0, 299, 213, 0}, {0, 293, 219,0}, {0, 288, 224,0}, 
        {0, 282,230, 0}, {0, 277, 235, 0},{0, 272, 240, 0}, {0, 266, 246, 0}, {0, 261, 251, 0}, {0, 256, 256, 0}, {0,0, 0,0}};

    HI_S16 coefficient2_1M[18][4] = {{0, 345, 167, 0}, {0, 338, 174, 0}, {0, 331, 181, 0}, {0, 325, 187, 0}, {0, 319, 193,0}, 
        {0, 313, 199,0},{0, 307, 205, 0}, {0, 301, 211, 0}, {0, 296, 216, 0}, {0, 291, 221, 0}, {0, 285, 227,0}, {0, 280, 232,0}, 
        {0, 275,237, 0}, {0, 270, 242, 0},{0, 266, 246, 0}, {0, 261, 251, 0}, {0, 256, 256, 0}, {0, 0, 0, 0}};

    HI_S16 coefficient8_5_3M[18][8] = {{35, -70, 102, 373, 102, -70, 35,  5}, {36, -68,  90, 373, 113, -72, 34,  6},
        {37, -66,  78, 371, 125, -73, 32,  8}, {38, -63,  66, 369, 137, -74, 30,  9}, {38, -60,55, 365,149, -74,28, 11},
        {38, -56,  45, 362, 161, -75, 25, 12}, {38, -53,  34, 358, 172, -74, 23, 14}, {38, -49,24, 353,184, -73,20, 15},
        {38, -45,  15, 346, 196, -72, 17, 17}, {37, -41,   6, 340, 207, -70, 14, 19}, {37, -37,-3, 333,219, -68,11, 20},
        {36, -33, -11, 326, 230, -65,  7, 22}, {35, -29, -19, 318, 241, -62,  4, 24}, {34, -25,-26, 310,252, -58,0, 25},
        {33, -21, -32, 301, 262, -54, -4, 27}, {31, -16, -39, 293, 273, -50, -8, 28}, {30, -12,-44, 282,282, -44,-12, 30},
        { 0,   0,0,   0,   0,   0,  0,  0}};

    /*************************** ratio = 1 **********************************************/
    /*VOU_ZOOM_TAP_8LH,ratio=1 */
    const HI_S16 coefficient8_cubic[18][8] = {{ 0,  0,0, 511,   0,   0,  0,  0}, {-1,  3, -12, 511,  14,-4,  1,  0},
        {-2,  6, -23, 509,  28,  -8,  2,  0}, {-2,  9, -33, 503,  44, -12,  3,  0}, {-3, 11,-41, 496,61, -16,4,  0},
        {-3, 13, -48, 488,  79, -21,  5, -1}, {-3, 14, -54, 477,  98, -25,  7, -2}, {-4, 16,-59, 465,118, -30,8, -2},
        {-4, 17, -63, 451, 138, -35,  9, -1}, {-4, 18, -66, 437, 158, -39, 10, -2}, {-4, 18,-68, 421,180, -44,11, -2},
        {-4, 18, -69, 404, 201, -48, 13, -3}, {-4, 18, -70, 386, 222, -52, 14, -2}, {-4, 18,-70, 368,244, -56,15, -3},
        {-4, 18, -69, 348, 265, -59, 16, -3}, {-4, 18, -67, 329, 286, -63, 16, -3}, {-3, 17,-65, 307,307, -65,17, -3},{0,0,0,0,0,0,0,0}};//normalized ok

    const HI_S16 coefficient8_cubic_v1hl[18][8] = {
        {0,  0,  0,   511,   0,   0,   0,  0},
        {0,  3,  -12, 511,  13,   -3,  0,  0},
        {0,  6,  -22, 507,  28,   -7,  0,  0},
        {0,  8,  -32, 502,  44,   -11, 1,  0},
        {0,  10, -40, 495,  61,   -15, 1,  0},
        {0,  11, -47, 486,  79,   -19, 2,  0},
        {0,  12, -53, 476,  98,   -24, 3,  0},
        {0,  13, -58, 464,  117,  -28, 4,  0},
        {0,  14, -62, 451,  137,  -33, 5,  0},
        {0,  15, -65, 437,  157,  -38, 6, 0},
        {0,  15, -67, 420,  179,  -42, 7, 0},
        {0,  15, -68, 404,  200,  -46, 7, 0},
        {0,  14, -68, 386,  221,  -50, 9, 0},
        {0,  14, -68, 367,  243,  -54, 10, 0},
        {0,  14, -67, 348,  264,  -58, 11, 0},
        {0,  13, -66, 328,  286,  -61, 12, 0},
        {0,  13, -63, 306,  306,  -63, 13, 0},
        {0,0,0,0,0,0,0,0}};//normalized ok


    HI_S16 coefficient8_3M[18][8] = {{-46,  29, 165, 236, 165, 29, -46, -20}, {-46,  25, 161, 236, 169, 32, -45, -20},
        {-47,  21, 158, 236, 173, 37, -45, -21}, {-47,  17, 154, 236, 178, 41, -44, -23}, {-47,14,150,236, 182, 45, -43, -25},
        {-47,  10, 146, 236, 186, 49, -42, -26}, {-47,   7, 142, 236, 190, 53, -41, -28}, {-47,4, 138,235,194, 58, -40, -30},
        {-47,   0, 134, 235, 197, 62, -39, -30}, {-47,  -3, 130, 234, 201, 67, -37, -33}, {-46, -6,125,232, 204, 71, -35, -33},
        {-46,  -9, 121, 232, 207, 76, -34, -35}, {-45, -12, 116, 230, 211, 80, -32, -36}, {-45,-15,112,228, 214, 85, -30, -37},
        {-43, -18, 108, 227, 216, 89, -28, -39}, {-43, -20, 103, 224, 219, 94, -25, -40}, {-41,-23,98,222, 222, 98, -23, -41},
        {  0,   0,   0,	0,   0,  0,   0,   0}};

    HI_S16 coefficient8_2M[18][8] = {{14, 66, 113, 133, 113, 66, 14, -7}, {12, 65, 112, 133, 114, 68, 15, -7},
        {11, 63, 111, 132, 115, 70, 17, -7}, {10, 62, 110, 132, 116, 71, 18, -7}, { 8, 60, 108,132, 118, 73,20, -7},
        { 7, 58, 107, 132, 119, 75, 21, -7}, { 6, 56, 106, 132, 120, 76, 23, -7}, { 4, 55, 105,132, 121, 78,24, -7},
        { 4, 53, 103, 131, 122, 80, 26, -7}, { 3, 51, 102, 131, 122, 81, 28, -6}, { 1, 50, 101,131, 123, 83,29, -6},
        { 1, 48,99, 131, 124, 84, 31, -6}, { 0, 46,  98, 130, 125, 86, 33, -6}, {-1, 45,  97,129, 126, 88,34, -6},
        {-2, 43,95, 129, 127, 89, 36, -5}, {-3, 41,  94, 128, 127, 91, 38, -4}, {-3, 39,  92,128, 128, 92,39, -3},
        { 0,	0,   0,   0,   0,  0,  0,  0}};

    HI_S16 coefficient8_1M[18][8] = {{57, 68, 79, 83, 79, 68, 57, 21}, {56, 68, 79, 82, 79, 69, 57, 22},
        {55, 68, 78, 82, 79, 69, 57, 24}, {54, 67, 78, 82, 79, 69, 58, 25}, {54, 66, 77, 82, 79,69, 58, 27},
        {53, 66, 77, 81, 79, 70, 58, 28}, {52, 66, 77, 81, 79, 70, 58, 29}, {51, 65, 76, 81, 79,70, 59, 31},
        {50, 65, 76, 81, 79, 70, 59, 32}, {49, 64, 75, 81, 79, 71, 59, 34}, {48, 63, 75, 81, 79,71, 60, 35},
        {47, 63, 75, 81, 79, 71, 60, 36}, {46, 63, 74, 81, 80, 71, 60, 37}, {45, 62, 74, 80, 80,72, 60, 39},
        {44, 62, 73, 80, 80, 72, 61, 40}, {43, 62, 73, 80, 80, 72, 61, 41}, {42, 61, 73, 80, 80,73, 61, 42},
        { 0,0,0,0,0,0,0,0}};

    //new coefficients
    //---------------8 tap----------------------------

    const HI_S16 coefficient8_lanczos2_8tap[18][8] = {{-16,0,145,254,145,0,-16,0},{-16,-2,140,253,151,3,-17,0},
        {-15,-5,135,253,157,5,-18,0},{-14,-7,129,252,162,8,-18,0},{-13,-9,123,252,167,11,-19,0},
        {-13,-11,118,250,172,15,-19,0},{-12,-12,112,250,177,18,-20,-1},{-11,-14,107,247,183,21,-20,-1},
        {-10,-15,101,245,188,25,-21,-1},{-9,-16,96,243,192,29,-21,-2},{-8,-18,90,242,197,33,-22,-2},
        {-8,-19,85,239,202,37,-22,-2},{-7,-19,80,236,206,41,-22,-3},{-7,-20,75,233,210,46,-22,-3},
        {-6,-21,69,230,215,50,-22,-3},{-5,-21,65,226,219,55,-22,-5},{-5,-21,60,222,222,60,-21,-5},{0,0,0,0,0,0,0,0}};//normalized ok

    const HI_S16 coefficient8_wbc_dhd_lh[18][8] = {
		{0,-4, 8,55, 8,-4,1,0},
		{0,-3, 6,55, 9,-4,1,0},
		{0,-3, 5,54,11,-4,1,0},
		{0,-3, 4,54,13,-5,1,0},
		{0,-2, 3,53,14,-5,1,0},
		{0,-2, 2,53,16,-6,1,0},
		{0,-1,-1,52,18,-6,2,0},
		{0,-1,-2,51,20,-6,2,0},
		{0,-1,-3,50,22,-6,2,0},
		{0, 0,-3,48,24,-7,2,0},
		{0, 0,-4,47,26,-7,2,0},
		{0, 0,-5,46,28,-7,2,0},
		{0, 0,-5,45,30,-7,1,0},
		{0, 1,-6,43,32,-7,1,0},
		{0, 1,-6,41,34,-7,1,0},
		{0, 1,-7,40,36,-7,1,0},
		{0, 1,-7,38,38,-7,1,0},
        {0,0,0,0,0,0,0,0}};//normalized ok


    HI_S16 coefficient_lanczos2[18][4] = {{0,511,0,0},{-10,511,11,0},{-18,508,23,-1},
        {-25,502,36,-1},{-31,494,51,-2},{-35,484,66,-3},{-39,473,83,-5},{-41,460,101,-8},
        {-43,445,119,-9},{-44,428,139,-11},{-44,411,159,-14},{-43,392,180,-17},{-41,373,201,-21},
        {-40,353,222,-23},{-37,331,244,-26},{-35,310,266,-29},{-32,288,288,-32},{0,0,0,0}};

    const HI_S16 coefficient_lanczos3[18][8] ={{4,-22,40,468,40,-22,4,0},{3,-18,26,468,54,-26,5,0},{2,-14,14,466,68,-30,6,0},
        {2,-11,2,462,84,-34,7,0},{1,-7,-9,457,100,-38,8,0},{1,-4,-18,450,116,-42,9,0},
        {1,-2,-27,443,133,-46,10,0},{0,2,-35,434,151,-50,10,0},{0,4,-42,425,168,-54,11,0},
        {0,6,-49,414,186,-57,12,0},{0,8,-54,401,204,-60,13,0},{0,10,-58,387,222,-62,13,0},
        {0,11,-62,374,240,-65,14,0},{0,12,-65,359,258,-66,14,0},{0,13,-67,344,276,-68,14,0},
        {0,14,-68,327,293,-68,14,0},{0,14,-68,310,310,-68,14,0},{0,0,0,0,0,0,0,0}};//normalized ok

    const HI_S16 coefficient8_vid_lh[18][8] ={
        {0,  -4,    7,   56,    7,   -4,     2 , 0},
        {0,  -4,    6,   56,    9,   -5,     2 , 0},
        {0,  -3,    4,   55,   11,   -5,    2, 0},
        {0,  -3,    3,   55,   13,   -6,    2, 0},
        {0,  -2,    1,   55,   14,   -6,    2, 0},
        {0,  -2,    0,   54,   16,   -6,    2, 0},
        {0,  -1,   -1,   53,   18,   -7,   2,0},
        {0,  -1,   -2,   52,   20,   -7,   2,0},
        {0,  -1,   -3,   51,   22,   -7,   2,0},
        {0,   0,   -4,   50,   24,   -8,    2, 0},
        {0,   0,   -5,   49,   26,   -8,    2, 0},
        {0,   0,   -6,   48,   28,   -8,    2, 0},
        {0,   1,   -6,   45,   30,   -8,    2, 0},
        {0,   1,   -7,   44,   32,   -8,    2, 0},
        {0,   1,   -7,   42,   34,   -8,    2, 0},
        {0,   1,   -8,   41,   36,   -8,    2, 0},
        {0,   2,   -8,   38,   38,   -8,    2, 0},
        {0,0,0,0,0,0,0,0}};//normalized ok
#if 0
  //suoxiao
    const HI_S16 coefficient8_vid_lh[18][8] ={
        {0, -4,   13,   46,   13,   -4,   0 , 0},
        {0, -4,   12,   46,   14,   -4,   0 , 0},
        {0, -4,   11,   45,   16,   -4,   0, 0},
        {0, -3,    9,   45,   17,   -4,    0, 0},
        {0, -3,    8,   45,   18,   -4,    0, 0},
        {0, -3,    7,   44,   20,   -4,    0, 0},
        {0, -3,    6,   44,   21,   -4,    0,0},
        {0, -3,    5,   44,   22,   -4,    0,0},
        {0, -3,    4,   43,   24,   -4,    0,0},
        {0, -2,    3,   42,   25,   -4,    0, 0},
        {0, -2,    2,   41,   27,   -4,    0, 0},
        {0, -2,    2,   39,   28,   -3,    0, 0},
        {0, -2,    1,   39,   29,   -3,    0, 0},
        {0, -2,    0,   39,   31,  -3,   -1, 0},
        {0, -1,    0,   36,   32,  -2,   -1, 0},
        {0, -1,  -1,   36,   33,  -2,   -1, 0},
        {0, -1,  -2,   35,   35,  -2,   -1, 0},
        {0,0,0,0,0,0,0,0}};//normalized ok
#endif
    /*
       int coefficient_lanczos3[18][8] ={{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
       {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
       {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
       {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
       {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
       {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80}};
       */
    /*VOU_ZOOM_TAP_6LV,ratio=1 */
#if THRD_LBL //VID LBL COEF

#if  0
const HI_S16 coefficient6_cubic[18][6] = {
        {0,0,511,511,0,0}, //0相位
        {8,8,511,511,-8,-8},    //1/32相位
        {17,17,510,510,-15,-15},
        {26,26,508,508,-22,-12},
        {36,36,504,504,-28,-28},
        {46,46,500,500,-34,-34},
        {57,57,494,494,-39-39},
        {68,68,488,488,-44,-44},
        {80,80,480,480,-48,-48},
        {92,92,472,472,-52,-52},
        {105,105,462,462,-55,-55},
        {118,118,452,452,-58,-58},
        {132,132,440,440,-60,-60},
        {146,146,428,428,-62,-62},
        {161,161,414,414,-63,-63},
        {176,176,400,400,-64,-64},
        {0,0,256,256,256,256},   //16/32相位
        {0,0,256,256,256,256}};
#endif


        const HI_S16 coefficient6_cubic[18][6] = {
            {0,256,256,0,0,0}, //0相位
            {0,176,400,-64,0,0},    //1/32相位
            {0,161,414,-63,0,0},
            {0,146,428,-62,0,0},
            {0,132,440,-60,0,0},
            {0,118,452,-58,0,0},
            {0,105,462,-55,0,0},
            {0,92,472,-52,0,0},
            {0,80,480,-48,0,0},
            {0,68,488,-44,0,0},
            {0,57,494,-39,0,0},
            {0,46,500,-34,0,0},
            {0,36,504,-28,0,0},
            {0,26,508,-22,0,0},
            {0,17,510,-15,0,0},
            {0,9,511,-8,0,0},
            {0,0,511,0,0,0},   //16/32相位
            {0,0,256,256,0,0}};
       
    //{0,0,0,0,0,0}};
#else
const HI_S16 coefficient6_cubic[18][6] = {{0,0,511,0,0,0},{3,-12,511,13,-3,0},{6,-22,507,28,-7,0},
    {8,-32,502,44,-11,1},{10,-40,495,61,-15,1},{11,-47,486,79,-19,2},{12,-53,476,98,-24,3},
    {13,-58,464,117,-28,4},{14,-62,451,137,-33,5},{15,-65,437,157,-38,6},{15,-67,420,179,-42,7},
    {15,-68,404,200,-46,7},{14,-68,386,221,-50,9},{14,-68,367,243,-54,10},{14,-67,348,264,-58,11},
    {13,-66,328,286,-61,12},{13,-63,306,306,-63,13},{0,0,0,0,0,0}};//normalized ok
#endif

const HI_S16 coefficient6_1M[18][6] = {{89,98,104,98,89,36},{88,97,103,98,89,38},
    {87,96,103,97,89,40},{86,96,102,97,89,42},{84,95,102,97,89,44},{83,94,102,97,89,47},
    {82,94,101,97,89,49},{81,93,101,97,89,51},{80,93,100,97,89,53},{78,92,100,97,89,55},
    {77,92,100,97,89,57},{76,91,99,97,89,59},{74,91,99,98,89,61},{73,91,99,98,90,62},
    {71,91,99,98,90,64},{69,90,98,98,90,66},{68,90,98,98,90,68},{0,0,0,0,0,0}};

const HI_S16 coefficient6_1_5M[18][6] = {{80,105,116,105,80,26},{79,104,116,105,81,28},
    {77,103,115,106,81,29},{76,102,115,106,82,31},{74,101,115,106,83,33},{73,100,114,106,84,35},
    {71,99,114,107,84,37},{70,98,113,107,85,39},{68,98,113,107,86,40},{67,97,112,108,86,42},
    {65,96,112,108,87,44},{63,95,112,108,88,46},{62,94,111,108,88,48},{60,93,111,109,89,50},
    {58,93,111,109,90,51},{57,92,110,110,90,53},{55,91,110,110,91,55},{0,0,0,0,0,0}};

const HI_S16 coefficient6_2M[18][6] = {{66,115,137,116,66,12},{64,114,136,116,68,14},{63,113,135,117,70,14},
    {61,111,135,118,71,16},{59,110,134,119,73,17},{57,108,134,120,74,19},{55,107,133,121,76,20},
    {53,105,133,121,78,22},{51,104,133,122,79,23},{49,102,132,123,81,25},{47,101,132,124,82,26},
    {45,99,131,125,84,28},{44,98,130,125,85,30},{42,96,130,126,87,31},{40,95,129,127,89,32},
    {38,93,129,127,90,35},{36,92,128,128,92,36},{0,0,0,0,0,0}};

const HI_S16 coefficient6_3_5M[18][6] = {{-11,154,253,154,-11,-28},{-14,149,254,160,-7,-29},
    {-17,144,255,165,-3,-31},{-20,139,255,171,1,-33},{-23,133,255,177,5,-34},{-26,128,254,182,9,-35},
    {-28,122,254,188,13,-37},{-31,117,253,193,18,-38},{-33,111,252,198,23,-39},{-35,106,250,203,28,-40},
    {-36,100,248,208,33,-41},{-38,94,246,212,38,-41},{-39,88,244,217,43,-42},{-40,83,242,221,49,-42},
    {-41,77,239,225,54,-42},{-42,71,236,229,60,-42},{-42,66,232,232,66,-42},{0,0,0,0,0,0}};

const HI_S16 coefficient6_3M[18][6] = {{21,142,204,142,21,-18},{18,139,204,146,24,-18},
    {15,136,204,149,28,-19},{12,132,204,153,31,-19},{9,129,204,156,35,-20},{6,125,203,160,38,-20},
    {3,121,203,163,42,-20},{1,118,202,166,46,-20},{-1,114,201,169,50,-20},{-4,110,200,172,54,-20},
    {-6,106,199,175,58,-20},{-8,102,198,178,62,-19},{-10,98,196,180,66,-19},{-11,94,195,183,70,-18},
    {-13,90,193,185,74,-17},{-14,86,191,187,78,-16},{-15,82,189,189,82,-15},{0,0,0,0,0,0}};

const HI_S16 coefficient6_3_25M[18][6] = {{6,149,227,149,6,-24},{2,145,228,153,9,-25},
    {-1,140,228,158,13,-26},{-4,136,228,162,17,-27},{-7,132,228,167,20,-28},{-10,127,228,171,25,-29},
    {-12,123,227,175,29,-29},{-15,118,226,180,33,-30},{-17,114,225,184,37,-31},{-19,109,224,187,42,-31},
    {-21,104,223,191,46,-31},{-23,99,221,195,51,-31},{-25,95,219,198,56,-31},{-26,90,217,201,61,-31},
    {-27,85,215,205,65,-31},{-28,80,213,207,70,-30},{-29,75,210,210,75,-29},{0,0,0,0,0,0}};

const HI_S16 coefficient6_4M[18][6] = {{-43,158,310,158,-43,-28},{-46,151,311,166,-40,-30},{-48,143,311,175,-37,-32},
    {-51,136,312,183,-33,-35},{-53,128,312,191,-29,-37},{-55,121,311,200,-25,-40},{-57,113,311,208,-21,-42},
    {-58,106,309,216,-16,-45},{-59,98,307,223,-11,-46},{-60,90,305,231,-6,-48},{-61,83,302,238,0,-50},
    {-61,75,299,246,6,-53},{-61,67,296,252,12,-54},{-61,60,291,259,18,-55},{-60,53,287,265,25,-58},
    {-60,45,283,271,31,-58},{-59,38,277,277,38,-59},{0,0,0,0,0,0}};

const HI_S16 coefficient6_5M[18][6] = {{-78,130,403,130,-78,5},{-77,118,404,142,-78,3},{-76,106,404,155,-78,1},
    {-75,94,403,168,-78,0},{-73,82,401,181,-78,-1},{-71,71,399,195,-77,-5},{-69,60,396,208,-75,-8},
    {-66,49,392,220,-73,-10},{-64,38,387,233,-71,-11},{-61,28,382,246,-68,-15},{-58,18,376,258,-64,-18},
    {-55,9,369,271,-60,-22},{-52,0,362,282,-56,-24},{-48,-9,354,294,-51,-28},{-45,-17,345,305,-45,-31},
    {-41,-25,336,316,-39,-35},{-38,-32,326,326,-32,-38},{0,0,0,0,0,0}};

const HI_S16 coefficient6_6M[18][6] = {{-58,75,443,75,-58,35},{-53,61,441,89,-62,36},{-48,47,439,104,-66,36},
    {-43,34,436,119,-69,35},{-38,21,432,134,-73,36},{-33,10,426,149,-76,36},{-28,-2,420,165,-78,35},
    {-23,-12,413,180,-80,34},{-18,-22,405,196,-82,33},{-14,-31,397,211,-83,32},{-9,-39,386,227,-83,30},
    {-4,-47,376,242,-83,28},{0,-54,365,257,-83,27},{4,-60,353,272,-81,24},{8,-65,341,286,-79,21},
    {12,-70,328,301,-77,18},{15,-74,315,315,-74,15},{0,0,0,0,0,0}};

const HI_S16 coefficient_lanczos2_6tap[18][6] = {{-29,116,338,116,-29,0},{-28,106,338,125,-29,0},
    {-28,97,337,135,-29,0},{-27,88,336,145,-29,0},{-26,80,333,154,-29,-1},{-25,71,331,164,-28,-1},
    {-24,63,327,174,-27,-1},{-23,55,324,184,-26,-2},{-22,48,319,194,-24,-3},{-20,40,314,203,-22,-3},
    {-19,34,309,213,-20,-4},{-17,27,303,223,-18,-5},{-16,21,296,232,-15,-6},{-15,15,290,241,-12,-7},
    {-13,10,282,250,-8,-8},{-12,5,275,258,-4,-9},{-11,0,267,267,0,-11},{0,0,0,0,0,0}};

const HI_S16 coefficient_guassian_6tap_6M[18][6] = {{-50,55,459,55,-50,42},{-44,40,456,70,-56,44},
    {-37,26,452,86,-61,46},{-31,13,447,101,-66,48},{-24,0,441,117,-71,49},{-18,-12,434,133,-75,50},
    {-12,-23,426,149,-79,51},{-6,-33,417,165,-83,51},{0,-42,407,182,-86,51},{6,-51,397,198,-88,51},
    {11,-59,386,214,-90,50},{16,-65,374,230,-91,49},{21,-71,361,246,-92,47},{25,-77,348,261,-92,45},
    {30,-81,335,277,-91,43},{33,-85,321,292,-90,40},{37,-87,307,307,-87,37},{0,0,0,0,0,0}}; 

const HI_S16 coefficient6_5_8M[18][6] = {{-58,75,443,75,-58,35},{-53,61,441,89,-62,36},
    {-48,47,439,104,-66,36},{-43,34,436,119,-69,36},{-38,21,431,134,-73,36},{-33,10,426,149,-76,36},
    {-28,-2,420,165,-78,35},{-23,-12,413,180,-80,35},{-18,-22,405,196,-82,34},{-14,-31,396,211,-83,32},
    {-9,-39,386,227,-83,31},{-4,-47,376,242,-83,29},{0,-54,365,257,-83,27},{4,-60,353,272,-81,24},
    {8,-65,341,286,-79,22},{12,-70,328,301,-77,19},{15,-74,314,314,-74,15},{0,0,0,0,0,0}};

const HI_S16 coefficient6_5_6M[18][6] = {{-70,97,432,97,-70,27},{-67,83,431,111,-73,27},
    {-63,70,430,125,-76,26},{-59,57,428,139,-78,26},{-55,44,424,154,-80,25},{-51,32,420,169,-82,24},
    {-47,21,415,183,-83,22},{-43,10,409,198,-83,21},{-38,-1,402,213,-83,19},{-34,-11,395,228,-83,17},
    {-29,-20,387,242,-82,14},{-25,-29,377,256,-80,12},{-21,-37,368,270,-78,9},{-16,-44,357,284,-75,6},
    {-12,-51,346,297,-71,3},{-8,-57,335,310,-67,-1},{-4,-62,323,323,-62,-4},{0,0,0,0,0,0}};

//new coefficients
//---------------8 tap----------------------------
//4.752M
const HI_S16 coefficient8_6M_a30[18][8] = {{11,-35,76,412,76,-35,11,-3},{11,-33,64,411,88,-38,12,-3},
    {10,-30,52,410,101,-41,12,-3},{10,-27,41,407,114,-43,12,-3},{9,-24,31,404,128,-45,12,-3},
    {8,-21,21,399,142,-47,12,-2},{8,-18,12,394,156,-49,12,-2},{7,-16,4,388,170,-50,12,-2},
    {6,-13,-4,380,184,-51,12,-2},{6,-10,-12,372,199,-52,11,-2},{5,-8,-18,364,213,-53,11,-1},
    {4,-6,-25,354,227,-53,10,-1},{4,-3,-30,344,242,-52,9,-1},{3,-1,-35,333,256,-51,8,0},
    {2,1,-39,321,270,-50,7,0},{2,3,-43,309,283,-48,6,1},{1,4,-46,296,296,-46,4,1},
    {0,0,0,0,0,0,0,0}};
//4.14M
const HI_S16 coefficient8_5M_a25[18][8] = {{7,-42,109,363,109,-42,7,1},{7,-41,99,362,120,-43,6,1},
    {8,-40,89,361,131,-43,6,1},{8,-39,79,359,142,-44,5,2},{8,-37,69,356,152,-43,4,2},
    {9,-36,60,353,164,-43,3,2},{9,-34,51,349,175,-43,2,3},{9,-32,43,345,186,-42,1,3},
    {9,-30,34,340,197,-40,-1,3},{9,-28,27,334,208,-39,-2,4},{9,-26,19,328,219,-37,-3,4},
    {8,-24,12,321,229,-34,-5,5},{8,-22,6,314,240,-32,-7,5},{8,-20,-1,306,250,-28,-8,6},
    {7,-18,-6,297,260,-25,-10,6},{7,-16,-12,289,270,-21,-12,6},{7,-14,-16,280,280,-16,-14,7},
    {0,0,0,0,0,0,0,0}};
//3.24M
const HI_S16 coefficient8_4M_a25[18][8] = {{-7,-21,133,299,133,-21,-7,2},{-6,-22,126,299,141,-20,-8,2},
    {-5,-23,118,298,148,-18,-9,2},{-4,-24,110,297,156,-16,-9,2},{-4,-24,103,296,164,-14,-10,2},
    {-3,-25,96,294,171,-12,-11,2},{-3,-25,89,291,179,-10,-12,2},{-2,-25,82,289,187,-7,-13,2},
    {-1,-25,75,286,194,-4,-14,2},{-1,-25,68,282,201,-1,-15,2},{0,-25,62,278,209,3,-16,2},
    {0,-24,56,274,216,6,-17,2},{0,-24,50,269,222,10,-18,2},{1,-23,44,264,229,14,-19,2},
    {1,-23,38,259,236,19,-20,2},{1,-22,33,254,242,23,-21,2},{1,-21,28,248,248,28,-21,1},
    {0,0,0,0,0,0,0,0}};
//2.426M

//2.426M
const HI_S16 coefficient8_3M_a19[18][8] = {{-18,18,144,226,144,19,-17,-4},{-17,16,139,226,148,21,-17,-4},
    {-17,13,135,227,153,24,-18,-5},{-17,11,131,226,157,27,-18,-5},{-17,9,126,225,161,30,-17,-5},
    {-16,6,122,225,165,33,-17,-6},{-16,4,118,224,169,37,-17,-7},{-16,2,113,224,173,40,-17,-7},
    {-15,0,109,222,177,43,-17,-7},{-15,-1,104,220,181,47,-16,-8},{-14,-3,100,218,185,51,-16,-9},
    {-14,-5,96,217,188,54,-15,-9},{-14,-6,91,214,192,58,-14,-9},{-13,-7,87,212,195,62,-14,-10},
    {-13,-9,83,210,198,66,-13,-10},{-12,-10,79,207,201,70,-12,-11},{-12,-11,74,205,205,74,-11,-12},{0,0,0,0,0,0,0,0}};//normalized ok
//1.944M
const HI_S16 coefficient8_2M_a05[18][8] = {                            
    {14,66,113,133,113,66,14,-7},
    {12,65,112,133,114,68,15,-7},
    {11,63,111,132,115,70,17,-7},
    {10,62,110,132,116,71,18,-7},
    {8,60,108,132,118,73,20,-7}, 
    {7,58,107,132,119,75,21,-7}, 
    {6,56,106,132,120,76,23,-7}, 
    {5,55,105,131,121,78,24,-7}, 
    {4,53,103,131,122,80,26,-7}, 
    {3,51,102,131,122,81,28,-6}, 
    {2,50,101,130,123,83,29,-6}, 
    {1,48,99,131,124,84,31,-6},
    {0,46,98,129,125,86,33,-5},
    {-1,45,97,128,126,88,34,-5}, 
    {-2,43,95,130,126,89,36,-5}, 
    {-3,41,94,128,127,91,38,-4}, 
    {-3,39,92,128,128,92,39,-3}, 
    {0,0,0,0,0,0,0,0},//512
};//normalized ok 

//1.33M
const HI_S16 coefficient8_1_5M_a05[18][8] = 
{
    {39,69,93,102,93,69,39,8},//511
    {38,68,92,102,93,70,40,9},//511
    {37,67,91,102,93,71,41,10},//511
    {36,66,91,101,94,71,42,11},//512
    {35,65,90,102,94,72,43,11},//511
    {34,64,89,102,94,73,44,12},//510
    {33,63,88,101,95,74,45,13},//511
    {32,62,88,100,95,75,46,14},//512
    {31,62,87,100,95,75,47,15},//512
    {30,61,86,99,96,76,48,16},//513
    {29,60,86,98,96,77,49,17},//513
    {28,59,85,98,96,78,50,18},//513
    {27,58,84,99,97,78,50,19},//512
    {26,57,83,99,97,79,51,20},//512
    {25,56,83,98,97,80,52,21},//512
    {24,55,82,97,98,81,53,22},//513
    {23,54,81,98,98,81,54,23},//512
    {0,0,0,0,0,0,0,0},//512
};
/*
   const int coefficient8_3M_a19[18][8] = {{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
   {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
   {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
   {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
   {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80}};
   */

//---------------6 tap----------------------------
//4.667M
#if THRD_LBL //VID NORMMODE
const HI_S16 coefficient6_6M_a25[18][6] = {
    {0,0,511,511,0,0}, //0相位
    {8,8,511,511,-8,-8},    //1/32相位
    {17,17,510,510,-15,-15},
    {26,26,508,508,-22,-12},
    {36,36,504,504,-28,-28},
    {46,46,500,500,-34,-34},
    {57,57,494,494,-39-39},
    {68,68,488,488,-44,-44},
    {80,80,480,480,-48,-48},
    {92,92,472,472,-52,-52},
    {105,105,462,462,-55,-55},
    {118,118,452,452,-58,-58},
    {132,132,440,440,-60,-60},
    {146,146,428,428,-62,-62},
    {161,161,414,414,-63,-63},
    {176,176,400,400,-64,-64},
    {0,0,256,256,256,256},   //16/32相位
    {0,0,256,256,256,256}};//{0,0,0,0,0,0}};
#else
const HI_S16 coefficient6_6M_a25[18][6] = {{-34,78,415,78,-34,9},{-32,66,415,90,-36,9},
    {-29,54,413,103,-38,9},{-26,43,411,116,-41,9},{-23,33,406,129,-42,9},{-21,24,401,143,-44,9},
    {-18,14,396,157,-46,9},{-16,6,389,171,-47,9},{-14,-2,382,185,-48,9},{-11,-9,374,199,-49,8},
    {-9,-16,365,213,-49,8},{-7,-21,354,228,-49,7},{-5,-27,345,242,-49,6},{-3,-32,333,256,-48,6},
    {-1,-36,322,269,-46,4},{0,-39,309,283,-44,3},{2,-42,296,296,-42,2},{0,0,0,0,0,0}};//normalized ok
#endif

#if 0  //fangda
const HI_S16 coefficient6_vid_lv[18][6] = {



    {0, -2,   34,   34,   -2,    0},
    {0, -3,   33,   37,   -2,   -1},
    {0, -3,   32,   37,   -1,   -1},
    {0, -3,   30,   39,   -1,   -1},
    {0, -3,   29,   39,    0,   -1},
    {0, -3,   27,   41,    0,   -1},
    {0, -3,   26,   41,    1,   -1},
    {0, -4,   24,   43,    2,   -1},
    {0, -4,   23,   45,    2,   -2},
    {0, -4,   21,   46,    3,   -2},
    {0, -3,   19,   46,    4,   -2},
    {0, -3,   18,   46,    5,   -2},
    {0, -3,   16,   47,    6,   -2},
    {0, -3,   15,   47,    7,   -2},
    {0, -3,   14,   48,    8,   -3},
    {0, -3,   12,   48,   10,   -3},
    {0, -3,   11,   48,   11,   -3},
    {0,0,0,0,0,0}};//normalized ok

#endif


const HI_S16 coefficient6_vid_lv[18][6] = {
    {0,  -7,   38,   38,   -7,    2},
    {0,  -6,   35,   41,   -7,    1},
    {0,  -6,   33,   43,   -7,    1},
    {0,  -6,   30,   46,   -7,    1},
    {0,  -5,   27,   48,   -7,    1},
    {0,  -5,   25,   50,   -7,    1},
    {0,  -4,   22,   52,   -7,    1},
    {0,  -4,   19,   55,   -7,    1},
    {0,  -3,   17,   55,   -6,    1},
    {0,  -3,   15,   57,   -6,    1},
    {0,  -3,   12,   59,   -5,    1},
    {0,  -2,   10,   60,   -5,    1},
    {0,  -2,    8,   61,   -4,    1},
    {0,  -1,    6,   62,   -3,    0},
    {0,  -1,    5,   62,   -2,    0},
    {0,  -1,    3,   62,    0,    0},
    {0,   0,    1,   62,    1,    0},
    {0,0,0,0,0,0}};//normalized ok



/*
   const int coefficient6_6M_a25[18][6] = {{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
   {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
   {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
   {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},
   {80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80},{80,80,80,80,80,80,80,80}};
   */
//3.888M
const HI_S16 coefficient6_5M_a25[18][6] = {{-31,104,362,104,-31,4},{-30,94,362,114,-32,4},
    {-29,84,361,125,-32,3},{-28,75,359,136,-33,3},{-27,66,356,147,-33,3},{-25,57,353,158,-33,2},
    {-24,49,349,169,-33,2},{-22,41,344,180,-32,1},{-20,33,339,191,-31,0},{-19,26,333,203,-30,-1},
    {-17,19,327,214,-29,-2},{-16,13,320,225,-27,-3},{-14,7,312,236,-25,-4},{-13,1,305,246,-22,-5},
    {-11,-4,295,257,-19,-6},{-10,-8,286,267,-16,-7},{-9,-12,277,277,-12,-9},{0,0,0,0,0,0}};//normalized ok
//3.216M
const HI_S16 coefficient6_4M_a20[18][6] = {{-20,130,297,130,-20,-5},{-21,122,298,138,-19,-6},
    {-22,115,297,146,-17,-7},{-22,108,296,153,-16,-7},{-23,101,295,161,-14,-8},{-23,93,294,169,-12,-9},
    {-24,87,292,177,-10,-10},{-24,80,289,185,-7,-11},{-24,73,286,193,-4,-12},{-23,66,283,200,-1,-13},
    {-23,60,279,208,2,-14},{-23,54,276,215,5,-15},{-22,48,271,222,9,-16},{-21,42,266,229,13,-17},
    {-21,37,261,236,17,-18},{-21,32,255,242,22,-18},{-20,27,249,249,27,-20},{0,0,0,0,0,0}};//normalized ok
//2.16M
const HI_S16 coefficient6_3M_a15[18][6] = {{16,136,217,136,16,-9},{13,132,217,141,18,-9},
    {11,128,217,145,21,-10},{9,124,216,149,24,-10},{7,119,216,153,27,-10},{5,115,216,157,30,-11},
    {3,111,215,161,33,-11},{1,107,214,165,36,-11},{0,102,213,169,39,-11},{-2,98,211,173,43,-11},
    {-3,94,209,177,46,-11},{-4,90,207,180,50,-11},{-5,85,206,184,53,-11},{-6,81,203,187,57,-10},
    {-7,77,201,190,61,-10},{-8,73,198,193,65,-9},{-9,69,196,196,69,-9},{0,0,0,0,0,0}};//normalized ok
//1.782M
const HI_S16 coefficient6_2M_a05[18][6] = 
{
    {66,115,138,115,66,12},//510
    {64,114,136,116,68,14},//511
    {63,113,134,117,70,15},//513
    {61,111,135,118,71,16},//512
    {59,110,133,119,73,18},//513
    {57,108,134,120,74,19},//512
    {55,107,133,121,76,20},//512
    {53,105,133,121,78,22},//512
    {51,104,133,122,79,23},//512
    {49,102,132,123,81,25},//512
    {47,101,132,124,82,26},//512
    {45,99,131,125,84,28},//512
    {44,98,130,125,85,30},//512
    {42,96,130,126,87,31},//512
    {40,95,128,127,89,33},//513
    {38,93,129,127,90,35},//512
    {36,92,128,128,92,36},//512
    {0,0,0,0,0,0},
};//normalize
const HI_S16 coefficient6_1_5M_a05[18][6] = 
{
    {80,105,116,105,80,26},//512
    {79,104,115,105,81,28},//513
    {77,103,116,106,81,29},//511
    {76,102,115,106,82,31},//512
    {74,101,115,106,83,33},//512
    {73,100,114,106,84,35},//512
    {71,99,114,107,84,37},//512
    {70,98,113,107,85,39},//512
    {68,98,113,107,86,40},//512
    {67,97,112,108,86,42},//512
    {65,96,112,108,87,44},//512
    {63,95,112,108,88,46},//512
    {62,94,112,108,88,48},//511
    {60,93,111,109,89,50},//512
    {58,93,111,109,90,51},//512
    {57,92,110,110,90,53},//512
    {55,91,110,110,91,55},//512
    {0,0,0,0,0,0},
};
//5.089M
const HI_S16 coefficient6_675M_a25[18][6] = {{-29,56,447,56,-29,10},{-25,44,445,70,-32,10},
    {-22,32,443,83,-35,11},{-19,20,439,98,-38,11},{-15,10,435,112,-41,12},{-12,0,429,128,-44,12},
    {-10,-9,422,143,-47,13},{-7,-17,414,159,-50,13},{-4,-24,404,175,-52,13},{-2,-31,394,191,-54,13},
    {0,-37,383,207,-56,13},{3,-42,372,224,-57,13},{4,-46,359,240,-58,13},{6,-50,346,256,-58,12},
    {8,-53,332,272,-58,12},{9,-55,318,287,-58,11},{10,-57,303,303,-57,10},{0,0,0,0,0,0}};

//---------------4 tap----------------------------
//4.456M
const HI_S16 coefficient4_6M_a15[18][4] = {{78,392,78,-35},{67,393,89,-37},{56,393,102,-39},
    {46,392,115,-41},{36,390,128,-43},{27,387,142,-44},{18,383,155,-45},{10,379,170,-46},{3,373,184,-47},
    {-5,366,198,-47},{-11,358,213,-47},{-17,350,227,-47},{-23,340,241,-46},{-28,330,255,-45},{-32,319,269,-44},
    {-36,307,282,-41},{-39,295,295,-39},{0,0,0,0}};
//4.272M
const HI_S16 coefficient4_6M_a19[18][4] = {{77,386,77,-28},{66,387,88,-29},{56,387,100,-31},
    {47,385,112,-32},{38,383,125,-34},{29,380,138,-35},{21,376,151,-36},{13,371,165,-37},{6,365,179,-38},
    {0,358,192,-38},{-6,350,206,-38},{-12,342,220,-38},{-17,332,234,-37},{-22,322,248,-36},{-25,311,261,-35},
    {-28,299,274,-33},{-31,287,287,-31},{0,0,0,0}};
//3.586M
const HI_S16 coefficient4_5M_a10[18][4] = {{106,334,106,-34},{97,334,116,-35},{87,334,126,-35},
    {78,333,136,-35},{70,331,147,-35},{61,329,157,-35},{53,326,168,-35},{45,323,178,-34},{37,319,189,-33},
    {30,314,199,-31},{23,309,209,-29},{17,303,220,-27},{10,297,229,-25},{5,290,239,-22},{-1,283,249,-18},
    {-6,275,258,-15},{-10,266,266,-10},{0,0,0,0}};
//3.507M
const HI_S16 coefficient4_5M_a15[18][4] = {{103,335,103,-29},{92,335,112,-27},{84,335,121,-28},
    {75,334,131,-28},{67,332,141,-28},{59,329,152,-28},{51,326,162,-27},{43,323,173,-27},{36,319,183,-26},
    {30,313,194,-25},{23,308,204,-23},{17,301,215,-21},{12,295,225,-20},{6,288,235,-17},{2,280,244,-14},
    {-3,271,254,-10},{-7,263,263,-7},{0,0,0,0}};//normalized ok

const HI_S16 coefficient4_vid_cv[18][4] = {
    //{0,63,0,0},

    {12,43,13,-4},
#if 1
    {11,43,14,-4},
    {10,43,15,-4},
    { 9,42,17,-4},
    { 8,42,18,-4},
    { 7,42,19,-4},
    { 6,41,21,-4},
    { 5,41,22,-4},
    { 4,41,23,-4},
    { 4,39,25,-4},
    { 3,39,26,-4},
    { 2,38,27,-3},
    { 1,38,28,-3},
    { 0,37,30,-3},
    { 0,35,31,-2},
    {-1,35,32,-2},
    {-1,33,33,-1},
    #endif
    {0,0,0,0}};//normalized ok


const HI_S16 coefficient4_vid_ch[18][4] = {
        //{0,63,0,0},
    {12,43,13,-4},
    {11,43,14,-4},
    {10,43,15,-4},
    { 9,42,17,-4},
    { 8,42,18,-4},
    { 7,42,19,-4},
    { 6,41,21,-4},
    { 5,41,22,-4},
    { 4,41,23,-4},
    { 4,39,25,-4},
    { 3,39,26,-4},
    { 2,38,27,-3},
    { 1,38,28,-3},
    { 0,37,30,-3},
    { 0,35,31,-2},
    {-1,35,32,-2},
    {-1,33,33,-1},
    {0,0,0,0}};//normalized ok


//4.720M
const HI_S16 coefficient4_675M_a20[18][4] = {{60,417,60,-25},{49,418,72,-28},{39,418,85,-30},
    {29,417,99,-32},{19,414,113,-34},{10,411,127,-36},{2,406,142,-38},{-5,400,158,-40},{-12,393,173,-42},
    {-18,384,189,-43},{-24,375,205,-45},{-29,365,222,-45},{-33,353,238,-46},{-37,341,254,-46},{-40,328,269,-46},
    {-42,314,285,-45},{-44,300,300,-44},{0,0,0,0}};
//3.032M
const HI_S16 coefficient4_4_5M_a15[18][4] = {{112,307,112,-18},{103,307,120,-18},{95,306,128,-18},
    {88,305,137,-18},{80,303,146,-17},{73,301,154,-16},{66,298,163,-15},{59,295,172,-14},{52,291,181,-12},
    {46,287,189,-10},{40,283,198,-8},{34,277,207,-6},{29,272,215,-3},{24,266,223,-1},{19,260,231,3},
    {14,253,239,6},{10,246,246,10},{0,0,0,0}};
//2.657M

const HI_S16 coefficient4_4M_a15[18][4] = {{120,281,120,-9},{113,281,127,-9},{106,280,134,-8},
    {99,279,141,-7},{92,277,148,-5},{85,275,156,-4},{79,273,163,-2},{73,270,170,0},{67,267,177,2},
    {61,263,184,4},{55,259,191,6},{50,255,198,9},{45,251,205,12},{40,246,211,15},{35,241,218,19},
    {31,235,224,22},{26,230,230,26},{0,0,0,0}};
//2.376M
const HI_S16 coefficient4_2M_a05[18][4] =
{
    {148,171,148,45},//512
    {145,170,149,48},//512
    {142,170,149,51},//511
    {139,168,150,55},//512
    {136,167,151,58},//512
    {133,167,151,61},//511
    {130,165,152,65},//512
    {127,164,153,68},//512
    {124,164,153,71},//511
    {121,162,154,75},//513
    {118,162,154,78},//512
    {115,160,155,82},//513
    {111,161,155,85},//511
    {108,160,156,88},//512
    {105,159,156,92},//512
    {102,158,157,95},//512
    {98,158,158,98},//512
    {0,0,0,0},

};//normalized ok
//2.317M
const HI_S16 coefficient4_1_5M_a05[18][4] =
{
    {150,158,150,54},//513
    {147,157,150,58},//513
    {145,156,150,61},//512
    {143,156,149,64},//511
    {140,155,149,68},//512
    {138,154,149,71},//512
    {135,153,149,75},//512
    {133,152,149,78},//512
    {130,152,149,81},//511
    {128,150,149,85},//513
    {125,150,149,88},//512
    {122,150,149,91},//512
    {119,150,148,95},//512
    {116,150,148,98},//511
    {113,150,148,101},//511
    {110,149,149,104},//512
    {107,149,149,107},//512
    {0,0,0,0},
};//normalized ok

/*
   const int coefficient4_4M_a15[18][4] = {{0,0,0,0},{0,0,0,0},{0,0,0,0},
   {0,0,0,0},{0,0,0,0},{0,0,0,0},{0,0,0,0},{0,0,0,0},{0,0,0,0},
   {0,0,0,0},{0,0,0,0},{0,0,0,0},{0,0,0,0},{0,0,0,0},{0,0,0,0},
   {0,0,0,0},{0,0,0,0},{0,0,0,0}};
   */
//---------------2 tap----------------------------
//3.717M
const HI_S16 coefficient2_6M_1_3[18][4] = {{0,420,92,0},{0,412,100,0},{0,404,108,0},{0,395,117,0},{0,386,126,0},
    {0,376,136,0},{0,366,146,0},{0,356,156,0},{0,346,166,0},{0,335,177,0},{0,325,187,0},{0,313,199,0},{0,302,210,0},
    {0,291,221,0},{0,279,233,0},{0,268,244,0},{0,256,256,0},{0,0,0,0}};//normalized ok
//3.56M
const HI_S16 coefficient2_5M_1_0[18][4] = {{0,397,115,0},{0,389,123,0},{0,381,131,0},{0,373,139,0},{0,365,147,0},
    {0,356,156,0},{0,347,165,0},{0,339,173,0},{0,330,182,0},{0,321,191,0},{0,312,200,0},{0,303,209,0},{0,293,219,0},
    {0,284,228,0},{0,275,237,0},{0,265,247,0},{0,256,256,0},{0,0,0,0}};//normalized ok
//3.39M
const HI_S16 coefficient2_4M_0_1[18][4] = {{0,366,146,0},{0,359,153,0},{0,351,161,0},{0,344,168,0},{0,337,175,0},
    {0,330,182,0},{0,323,189,0},{0,316,196,0},{0,309,203,0},{0,302,210,0},{0,296,216,0},{0,289,223,0},{0,282,230,0},
    {0,276,236,0},{0,269,243,0},{0,263,249,0},{0,256,256,0},{0,0,0,0}};//normalized ok

const HI_S16 s32Coeff_Bilinear[18][2] = {{511,0},{496,16},{480,32},{464,48},{448,64},{432,80},{416,96},{400,112},
    {384,128},{368,144},{352,160},{336,176},{320,192},{304,208},{288,224},{272,240},{256,256},{0,0}};

const HI_S16 s32Coeff_guass2_6M_2_5[18][2] = {{509,3},{507,5},{505,7},{502,10},{498,14},{493,19},{486,26},{477,35},
    {466,46},{452,60},{434,78},{413,99},{388,124},{359,153},{327,185},{292,220},{256,256},{0,0}};


/******************************VID ZOOM START****************************************/


const HI_S16 *g_pOrgZoomCoef[VDP_ZOOM_COEF_BUTT][VDP_ZOOM_TAP_BUTT] =
{
#if 0
    //VOU_ZOOM_TAP_8LH,                     VOU_ZOOM_TAP_6LV,          VOU_ZOOM_TAP_8CH,                    VOU_ZOOM_TAP_6CV,                VOU_ZOOM_TAP_4CH,                VOU_ZOOM_TAP_4CV,                 VOU_ZOOM_TAP_2CV,
    {&coefficient_lanczos3[0][0],        &coefficient6_6M_a25[0][0],   &coefficient_lanczos3[0][0],        &coefficient6_6M_a25[0][0],   &coefficient4_5M_a15[0][0],    &coefficient4_5M_a15[0][0],    &coefficient2_6M_1_3[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]}, //>1
    {&coefficient8_cubic[0][0],          &coefficient6_cubic[0][0],    &coefficient8_cubic[0][0],          &coefficient6_cubic[0][0],    &coefficient4_cubic[0][0],     &coefficient4_cubic[0][0],      &coefficient2_cubic[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]},  //==1
    {&coefficient8_lanczos2_8tap[0][0],  &coefficient6_5M_a25[0][0],   &coefficient8_lanczos2_8tap[0][0],  &coefficient6_5M_a25[0][0],   &coefficient4_5M_a15[0][0],    &coefficient4_5M_a15[0][0],     &coefficient2_5M_1_0[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]},//>=0.75
    {&coefficient8_lanczos2_8tap[0][0],  &coefficient6_4M_a20[0][0],   &coefficient8_lanczos2_8tap[0][0],  &coefficient6_4M_a20[0][0],   &coefficient4_5M_a15[0][0],    &coefficient4_5M_a15[0][0],     &coefficient2_5M_1_0[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]},//>=0.5
    {&coefficient8_3M_a19[0][0],         &coefficient6_3M_a15[0][0],   &coefficient8_3M_a19[0][0],         &coefficient6_3M_a15[0][0],   &coefficient4_2M_a05[0][0],    &coefficient4_2M_a05[0][0],     &coefficient2_4M_0_1[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]},           //>=0.33
    {&coefficient8_2M_a05[0][0],         &coefficient6_2M_a05[0][0],   &coefficient8_2M_a05[0][0],         &coefficient6_2M_a05[0][0],   &coefficient4_1_5M_a05[0][0],  &coefficient4_1_5M_a05[0][0],  &coefficient2_4M_0_1[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]},           //>=0.25
    {&coefficient8_1_5M_a05[0][0],       &coefficient6_1_5M_a05[0][0], &coefficient8_1_5M_a05[0][0],       &coefficient6_1_5M_a05[0][0], &coefficient4_1_5M_a05[0][0],  &coefficient4_1_5M_a05[0][0],  &coefficient2_4M_0_1[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]}           //else
#endif

    //VOU_ZOOM_TAP_8LH,                  VOU_ZOOM_TAP_6LV,              VOU_ZOOM_TAP_8CH,                    VOU_ZOOM_TAP_6CV,                VOU_ZOOM_TAP_4CH,                VOU_ZOOM_TAP_4CV,                 VOU_ZOOM_TAP_2CV,
    {&coefficient8_vid_lh[0][0],         &coefficient6_vid_lv[0][0],   &coefficient_lanczos3[0][0],        &coefficient6_6M_a25[0][0],   &coefficient4_vid_ch[0][0],    &coefficient4_vid_cv[0][0],    &coefficient2_6M_1_3[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]}    ,//>1

    {&coefficient8_cubic_v1hl[0][0],          &coefficient6_cubic[0][0],    &coefficient8_cubic[0][0],          &coefficient6_cubic[0][0],    &coefficient4_cubic[0][0],     &coefficient4_cubic[0][0],      &coefficient2_cubic[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]},  //==1
    {&coefficient8_wbc_dhd_lh[0][0],  &coefficient6_5M_a25[0][0],   &coefficient8_lanczos2_8tap[0][0],  &coefficient6_5M_a25[0][0],   &coefficient4_vid_ch[0][0],    &coefficient4_vid_cv[0][0],     &coefficient2_5M_1_0[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]},//>=0.75
    {&coefficient8_lanczos2_8tap[0][0],  &coefficient6_4M_a20[0][0],   &coefficient8_lanczos2_8tap[0][0],  &coefficient6_4M_a20[0][0],   &coefficient4_5M_a15[0][0],    &coefficient4_5M_a15[0][0],     &coefficient2_5M_1_0[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]},//>=0.5
    {&coefficient8_3M_a19[0][0],         &coefficient6_3M_a15[0][0],   &coefficient8_3M_a19[0][0],         &coefficient6_3M_a15[0][0],   &coefficient4_2M_a05[0][0],    &coefficient4_2M_a05[0][0],     &coefficient2_4M_0_1[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]},           //>=0.33
    {&coefficient8_2M_a05[0][0],         &coefficient6_2M_a05[0][0],   &coefficient8_2M_a05[0][0],         &coefficient6_2M_a05[0][0],   &coefficient4_1_5M_a05[0][0],  &coefficient4_1_5M_a05[0][0],  &coefficient2_4M_0_1[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]},           //>=0.25
    {&coefficient8_1_5M_a05[0][0],       &coefficient6_1_5M_a05[0][0], &coefficient8_1_5M_a05[0][0],       &coefficient6_1_5M_a05[0][0], &coefficient4_1_5M_a05[0][0],  &coefficient4_1_5M_a05[0][0],  &coefficient2_4M_0_1[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0], &s32Coeff_guass2_6M_2_5[0][0]}           //else

};


static __inline HI_S32 DRV_VDP_BitValue(HI_S32 s32Value)
{
   // return s32Value < 0 ? (512 - s32Value) : s32Value;
    return s32Value < 0 ? s32Value : s32Value;
}


static HI_U32 DRV_VDP_TranlateZoomCoef(const HI_S16 *ps32Coef, VDP_ZOOM_TAP_E enTap,
                                  VDP_VID_ZOOM_BITARRAY_S *pBitCoef)
{
    HI_U32 i, u32Cnt, u32Tap, u32Tmp;

    switch (enTap)
    {
        case VDP_ZOOM_TAP_8LH:
            u32Tap = 8;
            break;
        case VDP_ZOOM_TAP_6LV:
            u32Tap = 6;
            break;
		case VDP_ZOOM_TAP_5LV:
			u32Tap = 5;
			break;
        case VDP_ZOOM_TAP_8CH:
            u32Tap = 8;
            break;
        case VDP_ZOOM_TAP_6CV:
            u32Tap = 6;
            break;
        case VDP_ZOOM_TAP_4CH:
            u32Tap = 4;
            break;
        case VDP_ZOOM_TAP_4CV:
            u32Tap = 4;
            break;
		case VDP_ZOOM_TAP_3CV:
			u32Tap = 3;
			break;
        case VDP_ZOOM_TAP_2CV:
            u32Tap = 4;
            break;
        case VDP_TiHf_ZOOM_TAP_2LH:
        case VDP_TiHf_ZOOM_TAP_2LV:
        case VDP_TiHf_ZOOM_TAP_2CH:
        case VDP_TiHf_ZOOM_TAP_2CV:
            u32Tap = 2;
            break;
        default:
            u32Tap = 4;
            break;
    }

    u32Cnt = 18 * u32Tap / 12;
    for (i = 0; i < u32Cnt; i++)
    {
        pBitCoef->stBit[i].bits_0 = DRV_VDP_BitValue(*ps32Coef++);
        pBitCoef->stBit[i].bits_1 = DRV_VDP_BitValue(*ps32Coef++);
        pBitCoef->stBit[i].bits_2 = DRV_VDP_BitValue(*ps32Coef++);
		
        u32Tmp = DRV_VDP_BitValue(*ps32Coef++);
        pBitCoef->stBit[i].bits_32 = u32Tmp;
        pBitCoef->stBit[i].bits_38 = (u32Tmp >> 2);

        pBitCoef->stBit[i].bits_4 = DRV_VDP_BitValue(*ps32Coef++);
        pBitCoef->stBit[i].bits_5 = DRV_VDP_BitValue(*ps32Coef++);

        u32Tmp = DRV_VDP_BitValue(*ps32Coef++);
        pBitCoef->stBit[i].bits_64 = u32Tmp;
        pBitCoef->stBit[i].bits_66 = u32Tmp >> 4;

        pBitCoef->stBit[i].bits_7 = DRV_VDP_BitValue(*ps32Coef++);
        pBitCoef->stBit[i].bits_8 = DRV_VDP_BitValue(*ps32Coef++);

        u32Tmp = DRV_VDP_BitValue(*ps32Coef++);
        pBitCoef->stBit[i].bits_96 = u32Tmp;
        pBitCoef->stBit[i].bits_94 = u32Tmp >> 6;

        pBitCoef->stBit[i].bits_10 = DRV_VDP_BitValue(*ps32Coef++);
        pBitCoef->stBit[i].bits_11 = DRV_VDP_BitValue(*ps32Coef++);
        pBitCoef->stBit[i].bits_12 = 0;

#if 0
	printk("pBitCoef->stBit[i].bits_0 == %d\n",pBitCoef->stBit[i].bits_0);
	printk("pBitCoef->stBit[i].bits_1 == %d\n",pBitCoef->stBit[i].bits_1);
	printk("pBitCoef->stBit[i].bits_2 == %d\n",pBitCoef->stBit[i].bits_2);
	printk("pBitCoef->stBit[i].bits_32 == %d\n",pBitCoef->stBit[i].bits_32);
	printk("pBitCoef->stBit[i].bits_4 == %d\n",pBitCoef->stBit[i].bits_4);
	printk("pBitCoef->stBit[i].bits_5 == %d\n",pBitCoef->stBit[i].bits_5);
	printk("pBitCoef->stBit[i].bits_64 == %d\n",pBitCoef->stBit[i].bits_64);
#endif

		
    }

    pBitCoef->u32Size = u32Cnt * sizeof(VDP_VID_ZOOM_BIT_S);
    //if((VDP_ZOOM_TAP_6LV&&VDP_ZOOM_TAP_4CV)||(VDP_ZOOM_TAP_4CH&&VDP_ZOOM_TAP_4CV))
    //{printk("6l4c!!!!VDP_ALG_TranlateZoomCoef\n");}
    return HI_SUCCESS;
}

//水平亮度
static HI_U32 DRV_VDP_LoadZoomCoefHL(HI_U8 * ps16Coef,VDP_ZOOM_TAP_E enLZoomTap, HI_U8 *pu8Addr)
{
    static VDP_VID_ZOOM_BITARRAY_S stArray;
    // 亮度
    DRV_VDP_TranlateZoomCoef((HI_S16*)ps16Coef, enLZoomTap, &stArray);
    memcpy(pu8Addr, stArray.stBit, stArray.u32Size);
    //pu8Addr += 256;



    //printk("VDP_ALG_LoadZoomCoefH\n");
    return HI_SUCCESS;
}

//水平色度
static HI_U32 DRV_VDP_LoadZoomCoefHC(HI_U8* ps16Coef,VDP_ZOOM_TAP_E enChZoomTap, HI_U8 *pu8Addr)
{
    VDP_VID_ZOOM_BITARRAY_S stArray;

    //    VOU_ZOOM_COEF_E enChrCoef;

    //色度
    DRV_VDP_TranlateZoomCoef((HI_S16*)ps16Coef, enChZoomTap, &stArray);
    memcpy(pu8Addr, stArray.stBit, stArray.u32Size);
    pu8Addr += stArray.u32Size;



    //printk("VDP_ALG_LoadZoomCoefH\n");
    return HI_SUCCESS;
}


// 垂直亮度
static HI_S32 DRV_VDP_LoadZoomCoefVH(HI_U8* ps16Coef,VDP_ZOOM_TAP_E enLZoomTap, HI_U8 *pu8Addr)
{
    VDP_VID_ZOOM_BITARRAY_S stArray;

    // 亮度
    DRV_VDP_TranlateZoomCoef((HI_S16*)ps16Coef, enLZoomTap, &stArray);
    memcpy(pu8Addr, stArray.stBit, stArray.u32Size);
    pu8Addr += 256;


    //printk("VDP_ALG_LoadZoomCoefV\n");
    return HI_SUCCESS;
}
// 垂直色度
static HI_S32 DRV_VDP_LoadZoomCoefVC(HI_U8* ps16Coef,VDP_ZOOM_TAP_E enChZoomTap, HI_U8 *pu8Addr)
{
    VDP_VID_ZOOM_BITARRAY_S stArray;
    // 色度
    DRV_VDP_TranlateZoomCoef((HI_S16*)ps16Coef, enChZoomTap, &stArray);
    memcpy(pu8Addr, stArray.stBit, stArray.u32Size);
    pu8Addr += stArray.u32Size;


    //printk("VDP_ALG_LoadZoomCoefV\n");
    return HI_SUCCESS;
}

HI_S32 VDP_GetVdpZmeCoef(HI_PQ_ZME_COEF_RATIO_E enCoefRatio, HI_PQ_ZME_COEF_TYPE_E enCoefType, HI_PQ_ZME_TAP_E enZmeTap, HI_S16 *ps16Coef)
{
	if( enCoefType == HI_PQ_ZME_COEF_TYPE_LH)
	{
		if(enCoefRatio == HI_PQ_ZME_COEF_1)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_1][VDP_ZOOM_TAP_8LH],sizeof(HI_S32)*8*18);
			#if 0
			VDP_PRINT("*ps16Coef == %d \n",*ps16Coef);
			VDP_PRINT("*ps16Coef == %d \n",*(ps16Coef+1));
			VDP_PRINT("*ps16Coef == %d \n",*(ps16Coef+2));
			VDP_PRINT("*ps16Coef == %d \n",*(ps16Coef+3));
			VDP_PRINT("*ps16Coef == %d \n",*(ps16Coef+4));
			VDP_PRINT("*ps16Coef == %d \n",*(ps16Coef+5));
			#endif
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_E1)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_EQU_1][VDP_ZOOM_TAP_8LH],sizeof(HI_S32)*8*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_075)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_075][VDP_ZOOM_TAP_8LH],sizeof(HI_S32)*8*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_05)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_05][VDP_ZOOM_TAP_8LH],sizeof(HI_S32)*8*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_033)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_033][VDP_ZOOM_TAP_8LH],sizeof(HI_S32)*8*18);

		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_025)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_025][VDP_ZOOM_TAP_8LH],sizeof(HI_S32)*8*18);

		}

	}
	else if(enCoefType == HI_PQ_ZME_COEF_TYPE_LV)
	{

		if(HI_PQ_ZME_TAP_4T32P == enZmeTap)
		{

    		if(enCoefRatio == HI_PQ_ZME_COEF_1)
    		{
    			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_1][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*6*18);
    
    		}
    		else if(enCoefRatio == HI_PQ_ZME_COEF_E1)
    		{
    			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_EQU_1][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*6*18);
    		}
    		else if(enCoefRatio == HI_PQ_ZME_COEF_075)
    		{
    			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_075][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*6*18);
    		}
    		else if(enCoefRatio == HI_PQ_ZME_COEF_05)
    		{
    			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_05][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*6*18);
    		}
    		else if(enCoefRatio == HI_PQ_ZME_COEF_033)
    		{
    			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_033][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*6*18);
    		}
    		else if(enCoefRatio == HI_PQ_ZME_COEF_025)
    		{
    			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_025][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*6*18);
    		}
		}
		else
		{
			if(enCoefRatio == HI_PQ_ZME_COEF_1)
			{
				memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_1][VDP_ZOOM_TAP_6LV],sizeof(HI_S32)*6*18);

			}
			else if(enCoefRatio == HI_PQ_ZME_COEF_E1)
			{
				memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_EQU_1][VDP_ZOOM_TAP_6LV],sizeof(HI_S32)*6*18);
			}
			else if(enCoefRatio == HI_PQ_ZME_COEF_075)
			{
				memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_075][VDP_ZOOM_TAP_6LV],sizeof(HI_S32)*6*18);
			}
			else if(enCoefRatio == HI_PQ_ZME_COEF_05)
			{
				memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_05][VDP_ZOOM_TAP_6LV],sizeof(HI_S32)*6*18);
			}
			else if(enCoefRatio == HI_PQ_ZME_COEF_033)
			{
				memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_033][VDP_ZOOM_TAP_6LV],sizeof(HI_S32)*6*18);
			}
			else if(enCoefRatio == HI_PQ_ZME_COEF_025)
			{
				memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_025][VDP_ZOOM_TAP_6LV],sizeof(HI_S32)*6*18);
			}
		}

	}
	else if(enCoefType == HI_PQ_ZME_COEF_TYPE_CH)
	{
		if(enCoefRatio == HI_PQ_ZME_COEF_1)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_1][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*4*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_E1)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_EQU_1][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*4*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_075)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_075][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*4*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_05)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_05][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*4*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_033)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_033][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*4*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_025)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_025][VDP_ZOOM_TAP_4CH],sizeof(HI_S32)*4*18);
		}

	}
	else if(enCoefType == HI_PQ_ZME_COEF_TYPE_CV)
	{

		if(enCoefRatio == HI_PQ_ZME_COEF_1)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_1][VDP_ZOOM_TAP_4CV],sizeof(HI_S32)*4*18);
			
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_E1)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_EQU_1][VDP_ZOOM_TAP_4CV],sizeof(HI_S32)*4*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_075)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_075][VDP_ZOOM_TAP_4CV],sizeof(HI_S32)*4*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_05)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_05][VDP_ZOOM_TAP_4CV],sizeof(HI_S32)*4*18);
		
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_033)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_033][VDP_ZOOM_TAP_4CV],sizeof(HI_S32)*4*18);
		}
		else if(enCoefRatio == HI_PQ_ZME_COEF_025)
		{
			memcpy((HI_VOID *)ps16Coef,(HI_VOID *)g_pOrgZoomCoef[VDP_ZOOM_COEF_025][VDP_ZOOM_TAP_4CV],sizeof(HI_S32)*4*18);
		}
	}
	return  HI_SUCCESS;
}


HI_VOID DRV_PQ_SetVdpZmeCoef(VDP_ZOOM_TAP_E enVdpZoomTap,HI_PQ_ZME_COEF_TYPE_E enCoefType,HI_U8  *VirAddr, HI_U8 *ps32Coef)
{
    HI_U8 *pCurAddr;
    //HI_U32 nSize;
	//HI_S32* ps32Coef;

    pCurAddr = VirAddr;
    //ps32Coef = (HI_S32 *)VirAddrTmp;

	
    //(HI_S32 *)VirAddrTmp = ps16Coef;
    //horizontal:8l8c
    //nSize = 256; // 256 + (4x18) / 12 * 16 + (2*18)/12 *16 * 2= 288 + 96 = 448
    
	//水平亮度
	//DRV_PQ_GetVdpZmeCoef(HI_PQ_ZME_COEF_1,HI_PQ_ZME_COEF_TYPE_LH,HI_PQ_ZME_TAP_8T32P, ps32Coef);
	
	//DRV_VDP_LoadZoomCoefHL(ps32Coef,enVdpZoomTap, pCurAddr);
    //pstCoefAddr->coef_addr_tap_l8c4_1 = PhyAddr;
    //PhyAddr  += nSize;
   // pCurAddr += nSize;
	//ps32Coef += nSize;
	//水平色度
	//DRV_PQ_GetVdpZmeCoef(HI_PQ_ZME_COEF_1,HI_PQ_ZME_COEF_TYPE_CH,HI_PQ_ZME_TAP_8T32P,ps32Coef);
	//DRV_VDP_LoadZoomCoefHC(ps32Coef,VDP_ZOOM_TAP_4CH, pCurAddr);
    //pstCoefAddr->coef_addr_tap_l8c8_1 = PhyAddr;
    //PhyAddr  += nSize;
    //pCurAddr += nSize;
	//ps32Coef += nSize;
	//垂直亮度
	//DRV_PQ_GetVdpZmeCoef(HI_PQ_ZME_COEF_1,HI_PQ_ZME_COEF_TYPE_LV,HI_PQ_ZME_TAP_8T32P, ps32Coef);
	//DRV_VDP_LoadZoomCoefVH(ps32Coef,VDP_ZOOM_TAP_6LV, pCurAddr);
	
    //pstCoefAddr->coef_addr_tap_l6c4_1 = PhyAddr;
    //PhyAddr  += nSize;
    //pCurAddr += nSize;
	
	//ps32Coef += nSize;
	//垂直色度
	//DRV_PQ_GetVdpZmeCoef(HI_PQ_ZME_COEF_1,HI_PQ_ZME_COEF_TYPE_CV,HI_PQ_ZME_TAP_8T32P, ps32Coef);
	//DRV_VDP_LoadZoomCoefVC(ps32Coef,VDP_ZOOM_TAP_4CV, pCurAddr);
	
    //pstCoefAddr->coef_addr_tap_l8c8_1 = PhyAddr;
    //PhyAddr  += nSize;
    //pCurAddr += nSize;
	//ps32Coef += nSize;

	if(enCoefType == HI_PQ_ZME_COEF_TYPE_LH)
	{
		DRV_VDP_LoadZoomCoefHL(ps32Coef,enVdpZoomTap, pCurAddr);
		#if 0
		printk("*1ps16Coef == %d \n",*ps32Coef);
		printk("*1ps16Coef == %d \n",*(ps32Coef+1));
		printk("*1ps16Coef == %d \n",*(ps32Coef+2));
		printk("*1ps16Coef == %d \n",*(ps32Coef+3));
		printk("*1ps16Coef == %d \n",*(ps32Coef+4));
		printk("*1ps16Coef == %d \n",*(ps32Coef+5));
		#endif
	}
	else if(enCoefType == HI_PQ_ZME_COEF_TYPE_LV)
	{
		DRV_VDP_LoadZoomCoefVH(ps32Coef,enVdpZoomTap, pCurAddr);
		#if 0
		printk("*2ps16Coef == %d \n",*ps32Coef);
		printk("*2ps16Coef == %d \n",*(ps32Coef+1));
		printk("*2ps16Coef == %d \n",*(ps32Coef+2));
		printk("*2ps16Coef == %d \n",*(ps32Coef+3));
		printk("*2ps16Coef == %d \n",*(ps32Coef+4));
		printk("*2ps16Coef == %d \n",*(ps32Coef+5));
		#endif
	}
	else if(enCoefType == HI_PQ_ZME_COEF_TYPE_CH)
	{
		DRV_VDP_LoadZoomCoefHC(ps32Coef,enVdpZoomTap, pCurAddr);
		#if 0
		printk("*3ps16Coef == %d \n",*ps32Coef);
		printk("*3ps16Coef == %d \n",*(ps32Coef+1));
		printk("*3ps16Coef == %d \n",*(ps32Coef+2));
		printk("*3ps16Coef == %d \n",*(ps32Coef+3));
		printk("*3ps16Coef == %d \n",*(ps32Coef+4));
		printk("*3ps16Coef == %d \n",*(ps32Coef+5));
		#endif
	}
	else if(enCoefType == HI_PQ_ZME_COEF_TYPE_CV)
	{
		DRV_VDP_LoadZoomCoefVC(ps32Coef,enVdpZoomTap, pCurAddr);
		#if 0
		printk("*4ps16Coef == %d \n",*ps32Coef);
		printk("*4ps16Coef == %d \n",*(ps32Coef+1));
		printk("*4ps16Coef == %d \n",*(ps32Coef+2));
		printk("*4ps16Coef == %d \n",*(ps32Coef+3));
		printk("*4ps16Coef == %d \n",*(ps32Coef+4));
		printk("*4ps16Coef == %d \n",*(ps32Coef+5));
		#endif
	}

}




